2006-11-09  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-object-owner): New accessor method.
	(mixi-object-time): Ditto.
	(mixi-object-title): Ditto.

2006-11-09  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-make-friend-from-url): Support my object.
	(mixi-make-object-from-url): Ditto.

2006-11-08  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-friend-realize): Don't remove markup.
	(mixi-diary-realize): Ditto.
	(mixi-community-realize): Ditto.
	(mixi-topic-realize): Ditto.
	(mixi-get-comments): Ditto.
	(mixi-message-realize): Ditto.
	(mixi-get-introductions): Ditto.

2006-11-08  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-object-url-regexp): New regexp.
	(mixi-friend-url-regexp): Ditto.
	(mixi-diary-url-regexp): Ditto.
	(mixi-topic-url-regexp): Ditto.
	(mixi-message-url-regexp): Ditto.
	(mixi-community-url-regexp): Ditto.
	(mixi-make-object-from-url): New function.
	(mixi-make-friend-from-url): Ditto.
	(mixi-make-diary-from-url): Ditto.
	(mixi-make-community-from-url): Ditto.
	(mixi-make-topic-from-url): Ditto.
	(mixi-make-message-from-url): Ditto.
	(mixi-object-content): New accessor method.

2006-11-06  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-expand-url): New macro.
	(mixi-w3-retrieve): Use it.
	(mixi-w3m-retrieve): Ditto.
	(mixi-curl-retrieve): Ditto.

2006-11-01  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-diary-comment-list-regexp): Fix regexp.
	(mixi-topic-comment-list-regexp): Ditto.
	(mixi-get-comments): Follow the change above.

2006-10-28  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-message-box-list): New constant.
	(mixi-message-box-p): New macro.
	(mixi-message-box-name): New function.
	(mixi-get-messages): Use them.

2006-10-25  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-remove-markup): When STRING is nil, insert a null
	string.
	(mixi-make-introduction): New function.
	(mixi-introduction-p): New macro.
	(mixi-introduction-parent): New accessor method.
	(mixi-introduction-owner): Ditto.
	(mixi-introduction-content): Ditto.
	(mixi-introduction-list-page): New macro.
	(mixi-introduction-list-regexp): New regexp.
	(mixi-my-introduction-list-regexp): Ditto.
	(mixi-get-introductions): New function.

2006-10-25  Daiki Ueno  <ueno@unixuser.org>

	* mixi.el (mixi-retrieve-function): Try to select
	mixi-retrieve-function automatically.

2006-10-25  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-cache-expires): Add new constant.
	(mixi-cache-expired-p): Follow the change above.

2006-10-25  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-retrieve-function): Use `radio' instead of `choice'.
	(mixi-default-email): Ditto.
	(mixi-default-password): Ditto.
	(mixi-cache-expires): Ditto.

2006-10-25  Daiki Ueno  <ueno@unixuser.org>

	* mixi.el (mixi-time-less-p): Normalize encoded time.
	(mixi-time-add): Ditto.

2006-10-24  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-object-timestamp): New accessor method.
	(mixi-cache-expired-p): Use it.
	(mixi-object-realize-p): New alias.
	(mixi-object-set-timestamp): New accessor method.
	(mixi-object-touch): New macro.
	(mixi-friend-realize-p): Abolish.
	(mixi-friend-touch): Ditto.
	(mixi-diary-realize-p): Ditto.
	(mixi-diary-touch): Ditto.
	(mixi-community-realize-p): Ditto.
	(mixi-community-touch): Ditto.
	(mixi-topic-realize-p): Ditto.
	(mixi-topic-touch): Ditto.
	(mixi-message-realize-p): Ditto.
	(mixi-message-touch): Ditto.
	(mixi-friend-realize): Follow the change above.
	(mixi-diary-realize): Ditto.
	(mixi-community-realize): Ditto.
	(mixi-topic-realize): Ditto.
	(mixi-message-realize): Ditto.

2006-10-24  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-message-cache): New variable.
	(mixi-make-message): New function.
	(mixi-message-p): New macro.
	(mixi-message-page): Ditto.
	(mixi-message-owner-regexp): New regexp.
	(mixi-message-title-regexp): Ditto.
	(mixi-message-time-regexp): Ditto.
	(mixi-message-content-regexp): Ditto.
	(mixi-message-realize): New function.
	(mixi-message-realize-p): New accessor method.
	(mixi-message-id): Ditto.
	(mixi-message-box): Ditto.
	(mixi-message-owner): Ditto.
	(mixi-message-title): Ditto.
	(mixi-message-time): Ditto.
	(mixi-message-content): Ditto.
	(mixi-message-touch): Ditto.
	(mixi-message-set-owner): Ditto.
	(mixi-message-set-title): Ditto.
	(mixi-message-set-time): Ditto.
	(mixi-message-set-content): Ditto.
	(mixi-message-list-page): New macro.
	(mixi-message-list-regexp): New regexp.
	(mixi-get-messages): New function.

2006-10-24  Daiki Ueno  <ueno@unixuser.org>

	* mixi.el (with-mixi-decoded-time-value): Abolished.
	(mixi-encode-time-value): Abolished.
	(mixi-time-less-p): Simplified.
	(mixi-time-add): Simplified.
	(mixi-seconds-to-time): Simplified.

2006-10-24  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (with-mixi-retrieve): Put `edebug-form-spec'.
	(with-mixi-decoded-time-value): Ditto.

2006-10-24  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-get-matched-items): Fix when MAX-NUMBERS is nil.

2006-10-24  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-diary-comment-list-page): Use `%d' instead of `all'
	for page parameter.
	(mixi-topic-comment-list-page): Ditto.
	(mixi-get-comments): Use `max-numbers' instead of 1.
	(mixi-get-matched-items): Exit when the same items got already.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (toplevel): Don't use the FILENAME argument of `require'.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (with-mixi-decoded-time-value): New macro.
	(mixi-encode-time-value): New function.
	(mixi-time-less-p): Ditto.
	(mixi-time-add): Ditto.
	(mixi-seconds-to-time): Ditto.
	(mixi-cache-expired-p): Use them.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-get-friends): Change the FRIEND and the MAX-NUMBERS
	argument to the ARGS argument.
	(mixi-get-diaries): Ditto.
	(mixi-get-communities): Ditto.

	* mixi.el (mixi-get-matched-items): Change the MAX-PAGES argument to
	MAX-NUMBERS.
	(mixi-friend-max-pages): Abolish.
	(mixi-favorite-max-pages): Ditto.
	(mixi-log-max-pages): Ditto.
	(mixi-diary-max-pages): Ditto.
	(mixi-new-diary-max-pages): Ditto.
	(mixi-community-max-pages): Ditto.
	(mixi-topic-max-pages): Ditto.
	(mixi-new-topic-max-pages): Ditto.
	(mixi-new-comment-max-pages): Ditto.
	(mixi-get-friends): Add the MAX-NUMBERS argument.
	(mixi-get-favorites): Ditto.
	(mixi-get-logs): Ditto.
	(mixi-get-diaries): Ditto.
	(mixi-get-new-diaries): Ditto.
	(mixi-get-communities): Ditto.
	(mixi-get-topics): Ditto.
	(mixi-get-new-topics): Ditto.
	(mixi-get-comments): Ditto.
	(mixi-get-new-comments): Ditto.

2006-10-23  Daiki Ueno  <ueno@unixuser.org>

	* mixi.el (mixi-curl-retrieve): Make the temp buffer unibyte.

2006-10-23  Daiki Ueno  <ueno@unixuser.org>

	* mixi.el (mixi-curl-retrieve): New function.
	(mixi-retrieve-function): Don't use NOERROR arg of require.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-get-matched-items): Don't convert string to number.
	(mixi-login): Ditto.
	(mixi-make-me): Ditto.
	(mixi-friend-page): Ditto.
	(mixi-friend-list-page): Ditto.
	(mixi-diary-page): Ditto.
	(mixi-diary-list-page): Ditto.
	(mixi-community-page): Ditto.
	(mixi-community-realize): Ditto.
	(mixi-community-list-page): Ditto.
	(mixi-topic-page): Ditto.
	(mixi-topic-realize): Ditto.
	(mixi-topic-list-page): Ditto.
	(mixi-diary-comment-list-page): Ditto.
	(mixi-topic-comment-list-page): Ditto.
	(mixi-get-logs): Ditto.
	(mixi-get-comments): Ditto.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el: Try to require `url' and `w3m'.
	(mixi-get-comments): Fix typo.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-retrieve-function): New user option.
	(mixi-retrieve): Abolish.
	(mixi-w3-retrieve): New function.
	(mixi-w3m-retrieve): Ditto.
	(mixi-retrieve-1): Ditto.
	(mixi-login): Follow the change above.
	(with-mixi-retrieve): Ditto.

2006-10-23  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el: Require `url' instead of `w3m'.
	(mixi-retrieve): Follow the change above.
	(mixi-login): Ditto.
	(mixi-continuously-access-interval): Increase to 4.0.
	(mixi-verbose): Abolish.
	(mixi-friend-to-id): Ditto.
	(mixi-community-to-id): Ditto.

2006-10-22  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-make-community): New slot `members'.
	(mixi-community-members): New accessor method.
	(mixi-community-set-members): Ditto.
	(mixi-community-members-regexp): New regexp.
	(mixi-community-realize): Use them.

	* mixi.el (mixi-make-community): New slot `open level'.
	(mixi-community-open-level): New accessor method.
	(mixi-community-set-open-level): Ditto.
	(mixi-community-open-level-regexp): New regexp.
	(mixi-community-realize): Use them.

	* mixi.el (mixi-make-community): New slot `authority'.
	(mixi-community-authority): New accessor method.
	(mixi-community-set-authority): Ditto.
	(mixi-community-authority-regexp): New regexp.
	(mixi-community-realize): Use them.

2006-10-22  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-make-friend): New slot `sex'.
	(mixi-friend-sex): New accessor method.
	(mixi-friend-set-sex): Ditto.
	(mixi-friend-name-sex-regexp): Rename from `mixi-friend-name-regexp'.
	(mixi-my-name-regexp): Abolish.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `address'.
	(mixi-friend-address): New accessor method.
	(mixi-friend-set-address): Ditto.
	(mixi-friend-address-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `age'.
	(mixi-friend-age): New accessor method.
	(mixi-friend-set-age): Ditto.
	(mixi-friend-age-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `birthday'.
	(mixi-friend-birthday): New accessor method.
	(mixi-friend-set-birthday): Ditto.
	(mixi-friend-birthday-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `blood type'.
	(mixi-friend-blood-type): New accessor method.
	(mixi-friend-set-blood-type): Ditto.
	(mixi-friend-blood-type-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `birthplace'.
	(mixi-friend-birthplace): New accessor method.
	(mixi-friend-set-birthplace): Ditto.
	(mixi-friend-birthplace-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `hobby'.
	(mixi-friend-hobby): New accessor method.
	(mixi-friend-set-hobby): Ditto.
	(mixi-friend-hobby-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `job'.
	(mixi-friend-job): New accessor method.
	(mixi-friend-set-job): Ditto.
	(mixi-friend-job-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `organization'.
	(mixi-friend-organization): New accessor method.
	(mixi-friend-set-organization): Ditto.
	(mixi-friend-organization-regexp): New regexp.
	(mixi-friend-realize): Use them.

	* mixi.el (mixi-make-friend): New slot `profile'.
	(mixi-friend-profile): New accessor method.
	(mixi-friend-set-profile): Ditto.
	(mixi-friend-profile-regexp): New regexp.
	(mixi-friend-realize): Use them.

2006-10-21  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-friend-max-pages): Abolish; Move to toplevel defvar.
	(mixi-favorite-max-pages): Ditto.
	(mixi-log-max-pages): Ditto.
	(mixi-diary-max-pages): Ditto.
	(mixi-new-diary-max-pages): Ditto.
	(mixi-community-max-pages): Ditto.
	(mixi-topic-max-pages): Ditto.
	(mixi-new-topic-max-pages): Ditto.
	(mixi-new-comment-max-pages): Ditto.

2006-10-20  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi): Use `mixi' instead of `Mixi'.
	(mixi-url): Ditto.
	(mixi-coding-system): Ditto.
	(mixi-continuously-access-interval): Ditto.
	(mixi-message): Ditto.
	(mixi-login): Ditto.

2006-10-20  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-login): Tiny fix.
	(mixi-accept-adult-contents): Fix docs.

2006-10-20  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el (mixi-login): Return an error when `w3m-use-cookies' is nil.

2006-10-20  OHASHI Akira  <bg66@koka-in.org>

	* mixi.el: Importing mixi.el.
